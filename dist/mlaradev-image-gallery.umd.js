(function(s,n){typeof exports=="object"&&typeof module<"u"?module.exports=n():typeof define=="function"&&define.amd?define(n):(s=typeof globalThis<"u"?globalThis:s||self,s.MLaraDevImageGallery=n())})(this,function(){"use strict";var q=s=>{throw TypeError(s)};var T=(s,n,r)=>n.has(s)||q("Cannot "+r);var e=(s,n,r)=>(T(s,n,"read from private field"),r?r.call(s):n.get(s)),l=(s,n,r)=>n.has(s)?q("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(s):n.set(s,r),a=(s,n,r,x)=>(T(s,n,"write to private field"),x?x.call(s,r):n.set(s,r),r),c=(s,n,r)=>(T(s,n,"access private method"),r);var m,u,g,f,S,d,O,W,z,M,D,I,G,j,p,$,w,b,F,P,H,L,y,E,C,k,R;const s=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0"/>
</svg>`,n=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"/>
</svg>`,r={mainColor:"grey"};class x{constructor(t){l(this,d);l(this,m,0);l(this,u);l(this,g,[]);l(this,f);l(this,S);a(this,u,document.createElement("div")),a(this,f,document.createElement("div")),a(this,S,{...r,...t}),c(this,d,O).call(this)}get element(){return e(this,u)}set items(t){a(this,g,t),a(this,m,0),c(this,d,j).call(this)}}m=new WeakMap,u=new WeakMap,g=new WeakMap,f=new WeakMap,S=new WeakMap,d=new WeakSet,O=function(){e(this,u).classList.add("slider"),e(this,f).classList.add("list"),e(this,u).append(e(this,f)),c(this,d,z).call(this),c(this,d,W).call(this),document.addEventListener("thumbnailClick",t=>{const h=t,{index:i}=h.detail.item;c(this,d,G).call(this,i)})},W=async function(){const t=new CSSStyleSheet;await t.replace(`
      .nav {
        background-color: ${e(this,S).mainColor};
      }
    `),document.adoptedStyleSheets=[...document.adoptedStyleSheets,t]},z=function(){const t=document.createElement("button");t.classList.add("nav","left"),t.innerHTML=s,t.addEventListener("click",()=>c(this,d,M).call(this,"left"));const h=document.createElement("button");h.classList.add("nav","right"),h.innerHTML=n,h.addEventListener("click",()=>c(this,d,M).call(this,"right")),e(this,u).append(t),e(this,u).append(h)},M=function(t){a(this,m,e(this,m)+(t==="right"?1:-1)),a(this,m,(e(this,m)+e(this,g).length)%e(this,g).length),c(this,d,I).call(this),c(this,d,D).call(this)},D=function(){if(!e(this,g).length)return;const t=new CustomEvent("navClick",{detail:{item:{id:e(this,g)[e(this,m)].id,index:e(this,m)}},bubbles:!0});document.dispatchEvent(t)},I=function(){const t=e(this,u).clientWidth;e(this,f).style.transform=`translateX(${t*e(this,m)*-1}px)`},G=function(t){a(this,m,t),c(this,d,I).call(this)},j=function(){const t=document.createDocumentFragment();e(this,g).forEach(h=>{const i=document.createElement("div");i.innerHTML=`<img src="${h.sizes.large}" alt="${h.alt}">`,i.id=`slide-${h.id}`,i.classList.add("slide"),t.append(i)}),e(this,f).replaceChildren(t)};const X={borderColor:"grey",borderWidth:"1px",width:100,height:100,useBorder:!0};class A{constructor(t){l(this,b);l(this,p);l(this,$,[]);l(this,w);a(this,p,document.createElement("div")),e(this,p).className="thumbnail-container",a(this,w,{...X,...t}),document.addEventListener("navClick",h=>{const i=h,{id:v,index:o}=i.detail.item;c(this,b,H).call(this,v,o)}),c(this,b,F).call(this)}get element(){return e(this,p)}set items(t){a(this,$,t),c(this,b,P).call(this)}}p=new WeakMap,$=new WeakMap,w=new WeakMap,b=new WeakSet,F=async function(){const t=new CSSStyleSheet,{width:h,height:i,useBorder:v,borderWidth:o,borderColor:B}=e(this,w),K=v?`${o} solid ${B}`:"none";await t.replace(`
      .custom-thumb {
        border: ${K};
        width: ${h}px;
        height: ${i}px;
      }
      .selected {
        border-top: 4px solid ${B} !important;
      }
    `),document.adoptedStyleSheets=[...document.adoptedStyleSheets,t]},P=function(){e(this,p).innerHTML="";const{width:t,height:h}=e(this,w);e(this,$).forEach((i,v)=>{const o=document.createElement("div");o.id=i.id,o.classList.add("thumb","custom-thumb"),o.innerHTML=`<img src="${i.sizes.thumbnail}" alt="${i.alt}" width="${t}" height="${h}">`,o.addEventListener("click",()=>c(this,b,H).call(this,i.id,v)),v===0&&o.classList.add("selected"),e(this,p).appendChild(o)})},H=function(t,h){const i=e(this,p).querySelector(".selected");i==null||i.classList.remove("selected");const v=e(this,p).querySelector(`#${t}`);v==null||v.classList.add("selected");const o=new CustomEvent("thumbnailClick",{detail:{item:{id:t,index:h}},bubbles:!0});document.dispatchEvent(o)};class J{constructor(t,h,i){l(this,k);l(this,L);l(this,y);l(this,E);l(this,C,[]);if(a(this,L,document.querySelector(t)),a(this,C,h),a(this,y,new x(i==null?void 0:i.slider)),a(this,E,new A(i==null?void 0:i.thumbs)),!e(this,L))throw new Error(`Element with selector "${t}" not found`);c(this,k,R).call(this)}}return L=new WeakMap,y=new WeakMap,E=new WeakMap,C=new WeakMap,k=new WeakSet,R=function(){const t=document.createElement("div");t.className="image-gallery",t.append(e(this,y).element),t.append(e(this,E).element),e(this,L).appendChild(t),e(this,y).items=e(this,C),e(this,E).items=e(this,C)},J});
