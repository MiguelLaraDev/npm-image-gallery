(function(n,d){typeof exports=="object"&&typeof module<"u"?module.exports=d():typeof define=="function"&&define.amd?define(d):(n=typeof globalThis<"u"?globalThis:n||self,n.MLaraDevImageGallery=d())})(this,function(){"use strict";var N=n=>{throw TypeError(n)};var T=(n,d,r)=>d.has(n)||N("Cannot "+r);var t=(n,d,r)=>(T(n,d,"read from private field"),r?r.call(n):d.get(n)),l=(n,d,r)=>d.has(n)?N("Cannot add the same private member more than once"):d instanceof WeakSet?d.add(n):d.set(n,r),a=(n,d,r,$)=>(T(n,d,"write to private field"),$?$.call(n,r):d.set(n,r),r),o=(n,d,r)=>(T(n,d,"access private method"),r);var m,u,v,w,C,h,B,q,O,M,W,I,D,G,p,E,b,f,F,P,j,x,y,S,L,k,R;const n=".image-gallery{width:100%;height:auto;padding:16px}@media (min-width: 768px){.image-gallery{padding:0}}",d=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0"/>
</svg>`,r=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"/>
</svg>`,$=".slider{position:relative;background-color:#fff;overflow:hidden;width:100%;height:400px;min-height:400px;display:flex;align-items:center;justify-content:center;margin-bottom:16px}.list{position:absolute;width:100%;height:400px;display:flex;transition:all .5s ease-in;z-index:98}.slide{position:relative;width:100%;min-width:100%;height:400px;display:flex;flex-direction:column;align-items:center;justify-content:center;overflow:hidden}.slide img{width:100%;height:auto;margin:16px}.nav{position:absolute;display:flex;align-items:center;justify-content:center;background-color:#ee82eebf;color:#000;top:calc(50% - 28px);width:32px;height:32px;border-radius:100%;border:none;margin:0;z-index:99}.left{left:0}.right{right:0}@media (min-width: 768px){.nav{margin:16px;width:40px;height:40px}.slide{padding:24px}.slide img{width:auto;height:100%}}",X={mainColor:"grey"};class A{constructor(e){l(this,h);l(this,m,0);l(this,u);l(this,v,[]);l(this,w);l(this,C);a(this,u,document.createElement("div")),a(this,w,document.createElement("div")),a(this,C,{...X,...e}),o(this,h,B).call(this)}get element(){return t(this,u)}set items(e){a(this,v,e),a(this,m,0),o(this,h,G).call(this)}}m=new WeakMap,u=new WeakMap,v=new WeakMap,w=new WeakMap,C=new WeakMap,h=new WeakSet,B=function(){t(this,u).classList.add("slider"),t(this,w).classList.add("list"),t(this,u).append(t(this,w)),o(this,h,O).call(this),o(this,h,q).call(this),document.addEventListener("thumbnailClick",e=>{const i=e,{index:s}=i.detail.item;o(this,h,D).call(this,s)})},q=async function(){const e=new CSSStyleSheet;await e.replace(`
      ${$}
      .nav {
        background-color: ${t(this,C).mainColor};
      }
    `),document.adoptedStyleSheets=[...document.adoptedStyleSheets,e]},O=function(){const e=document.createElement("button");e.classList.add("nav","left"),e.innerHTML=d,e.addEventListener("click",()=>o(this,h,M).call(this,"left"));const i=document.createElement("button");i.classList.add("nav","right"),i.innerHTML=r,i.addEventListener("click",()=>o(this,h,M).call(this,"right")),t(this,u).append(e),t(this,u).append(i)},M=function(e){a(this,m,t(this,m)+(e==="right"?1:-1)),a(this,m,(t(this,m)+t(this,v).length)%t(this,v).length),o(this,h,I).call(this),o(this,h,W).call(this)},W=function(){if(!t(this,v).length)return;const e=new CustomEvent("navClick",{detail:{item:{id:t(this,v)[t(this,m)].id,index:t(this,m)}},bubbles:!0});document.dispatchEvent(e)},I=function(){const e=t(this,u).clientWidth;t(this,w).style.transform=`translateX(${e*t(this,m)*-1}px)`},D=function(e){a(this,m,e),o(this,h,I).call(this)},G=function(){const e=document.createDocumentFragment();t(this,v).forEach(i=>{const s=document.createElement("div");s.innerHTML=`<img src="${i.sizes.large}" alt="${i.alt}">`,s.id=`slide-${i.id}`,s.classList.add("slide"),e.append(s)}),t(this,w).replaceChildren(e)};const J=".thumbnail-container{width:100%;display:flex;flex-direction:row;flex-wrap:wrap;gap:8px}.thumb{box-sizing:border-box;overflow:hidden;cursor:pointer}.thumb:hover{opacity:.5}.thumb img{width:inherit;height:inherit;object-fit:cover}",K={borderColor:"grey",borderWidth:"1px",width:100,height:100,useBorder:!0};class Q{constructor(e){l(this,f);l(this,p);l(this,E,[]);l(this,b);a(this,p,document.createElement("div")),t(this,p).className="thumbnail-container",a(this,b,{...K,...e}),document.addEventListener("navClick",i=>{const s=i,{id:g,index:c}=s.detail.item;o(this,f,j).call(this,g,c)}),o(this,f,F).call(this)}get element(){return t(this,p)}set items(e){a(this,E,e),o(this,f,P).call(this)}}p=new WeakMap,E=new WeakMap,b=new WeakMap,f=new WeakSet,F=async function(){const e=new CSSStyleSheet,{width:i,height:s,useBorder:g,borderWidth:c,borderColor:H}=t(this,b),V=g?`${c} solid ${H}`:"none";await e.replace(`
      ${J}
      .custom-thumb {
        border: ${V};
        width: ${i}px;
        height: ${s}px;
      }
      .selected {
        border-top: 4px solid ${H} !important;
      }
    `),document.adoptedStyleSheets=[...document.adoptedStyleSheets,e]},P=function(){t(this,p).innerHTML="";const{width:e,height:i}=t(this,b);t(this,E).forEach((s,g)=>{const c=document.createElement("div");c.id=s.id,c.classList.add("thumb","custom-thumb"),c.innerHTML=`<img src="${s.sizes.thumbnail}" alt="${s.alt}" width="${e}" height="${i}">`,c.addEventListener("click",()=>o(this,f,j).call(this,s.id,g)),g===0&&c.classList.add("selected"),t(this,p).appendChild(c)})},j=function(e,i){const s=t(this,p).querySelector(".selected");s==null||s.classList.remove("selected");const g=t(this,p).querySelector(`#${e}`);g==null||g.classList.add("selected");const c=new CustomEvent("thumbnailClick",{detail:{item:{id:e,index:i}},bubbles:!0});document.dispatchEvent(c)};class U{constructor(e,i,s){l(this,k);l(this,x);l(this,y);l(this,S);l(this,L,[]);if(a(this,x,document.querySelector(e)),a(this,L,i),a(this,y,new A(s==null?void 0:s.slider)),a(this,S,new Q(s==null?void 0:s.thumbs)),!t(this,x))throw new Error(`Element with selector "${e}" not found`);o(this,k,R).call(this)}}return x=new WeakMap,y=new WeakMap,S=new WeakMap,L=new WeakMap,k=new WeakSet,R=async function(){const e=new CSSStyleSheet;await e.replace(n),document.adoptedStyleSheets=[...document.adoptedStyleSheets,e];const i=document.createElement("div");i.id="mlaradev-image-gallery",i.className="image-gallery",i.append(t(this,y).element),i.append(t(this,S).element),t(this,x).appendChild(i),t(this,y).items=t(this,L),t(this,S).items=t(this,L)},U});
